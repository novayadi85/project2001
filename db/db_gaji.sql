-- phpMyAdmin SQL Dump
-- version 4.7.0
-- https://www.phpmyadmin.net/
--
-- Host: 127.0.0.1
-- Generation Time: Jan 29, 2018 at 03:13 AM
-- Server version: 10.1.25-MariaDB
-- PHP Version: 7.0.21

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET AUTOCOMMIT = 0;
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `db_gaji`
--

DELIMITER $$
--
-- Functions
--
CREATE DEFINER=`root`@`localhost` FUNCTION `KODEOTOMATIS` (`number` INT) RETURNS CHAR(20) CHARSET utf8 BEGIN
DECLARE kodebaru CHAR(8);
DECLARE urut INT;
 
SET urut = IF(number IS NULL, 1, number + 1);
SET kodebaru = CONCAT("KB", LPAD(urut, 6, 0));
 
RETURN kodebaru;
END$$

CREATE DEFINER=`root`@`localhost` FUNCTION `KODESTAFF` (`number` INT) RETURNS CHAR(20) CHARSET latin1 NO SQL
BEGIN
DECLARE kodebaru CHAR(8);
DECLARE urut INT;
 
SET urut = IF(number IS NULL, 1, number + 1);
SET kodebaru = CONCAT("KK", LPAD(urut, 6, 0));
 
RETURN kodebaru;
END$$

DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `tb_absensi`
--

CREATE TABLE `tb_absensi` (
  `id` int(11) NOT NULL,
  `kode_absensi` int(10) NOT NULL,
  `kode_karyawan` varchar(10) NOT NULL,
  `periode` varchar(10) NOT NULL,
  `tahun` year(4) NOT NULL,
  `jumlah_absensi` int(3) NOT NULL,
  `keterlambatan` int(3) NOT NULL,
  `tanggal` date NOT NULL,
  `jam_kerja` time NOT NULL,
  `jam_masuk` time NOT NULL,
  `jam_pulang` time NOT NULL,
  `departemen` varchar(200) NOT NULL,
  `scan_masuk` time NOT NULL,
  `scan_pulang` time NOT NULL,
  `full_absen` int(11) NOT NULL DEFAULT '0'
) ENGINE=MyISAM DEFAULT CHARSET=latin1;

--
-- Dumping data for table `tb_absensi`
--

INSERT INTO `tb_absensi` (`id`, `kode_absensi`, `kode_karyawan`, `periode`, `tahun`, `jumlah_absensi`, `keterlambatan`, `tanggal`, `jam_kerja`, `jam_masuk`, `jam_pulang`, `departemen`, `scan_masuk`, `scan_pulang`, `full_absen`) VALUES
(59, 2, 'KK000001', '1', 2017, 27, 6, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '07:57:00', '16:45:00', 0),
(60, 3, 'KK000002', '1', 2017, 26, 24, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '08:35:00', '17:07:00', 0),
(61, 4, 'KK000003', '1', 2017, 0, 0, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(62, 6, 'KK000004', '1', 2017, 26, 1, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '07:22:00', '17:01:00', 0),
(63, 7, 'KK000005', '1', 2017, 21, 10, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '08:04:00', '17:00:00', 0),
(64, 8, 'KK000006', '1', 2017, 24, 0, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '07:48:00', '00:00:00', 0),
(65, 10, 'KK000007', '1', 2017, 25, 0, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '07:23:00', '17:00:00', 0),
(66, 16, 'KK000008', '1', 2017, 25, 0, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '07:53:00', '17:05:00', 0),
(67, 17, 'KK000009', '1', 2017, 24, 1, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '07:46:00', '17:02:00', 0),
(68, 18, 'KK000010', '1', 2017, 24, 3, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '07:37:00', '17:06:00', 0),
(69, 21, 'KK000011', '1', 2017, 20, 3, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(70, 22, 'KK000012', '1', 2017, 30, 1, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '07:08:00', '17:01:00', 0),
(71, 36, 'KK000013', '1', 2017, 10, 5, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(72, 39, 'KK000014', '1', 2017, 25, 0, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '07:55:00', '16:18:00', 0),
(73, 40, 'KK000015', '1', 2017, 28, 2, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '09:04:00', '17:02:00', 0),
(74, 43, 'KK000016', '1', 2017, 25, 1, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '07:40:00', '17:00:00', 0),
(75, 44, 'KK000017', '1', 2017, 26, 3, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '07:53:00', '17:00:00', 0),
(76, 63, 'KK000018', '1', 2017, 24, 1, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '07:25:00', '17:01:00', 0),
(77, 73, 'KK000019', '1', 2017, 26, 1, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '07:26:00', '17:00:00', 0),
(78, 77, 'KK000020', '1', 2017, 26, 2, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '07:57:00', '17:00:00', 0),
(79, 79, 'KK000021', '1', 2017, 24, 0, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(80, 80, 'KK000022', '1', 2017, 26, 1, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '07:45:00', '17:01:00', 0),
(81, 81, 'KK000023', '1', 2017, 12, 3, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '07:48:00', '17:00:00', 0),
(82, 83, 'KK000024', '1', 2017, 26, 24, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '08:20:00', '17:08:00', 0),
(83, 88, 'KK000025', '1', 2017, 20, 0, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(84, 93, 'KK000026', '1', 2017, 22, 4, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '07:56:00', '17:04:00', 0),
(85, 94, 'KK000027', '1', 2017, 21, 9, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(86, 98, 'KK000028', '1', 2017, 24, 0, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '07:36:00', '17:02:00', 0),
(87, 106, 'KK000029', '1', 2017, 25, 0, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '07:20:00', '17:29:00', 0),
(88, 116, 'KK000030', '1', 2017, 25, 1, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '07:41:00', '17:01:00', 0),
(89, 131, 'KK000031', '1', 2017, 27, 1, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '07:34:00', '17:04:00', 0),
(90, 133, 'KK000032', '1', 2017, 26, 0, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '07:49:00', '17:00:00', 0),
(91, 138, 'KK000033', '1', 2017, 28, 4, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '07:54:00', '17:03:00', 0),
(92, 170, 'KK000034', '1', 2017, 25, 1, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '07:55:00', '17:00:00', 0),
(93, 172, 'KK000035', '1', 2017, 26, 1, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '07:44:00', '17:07:00', 0),
(94, 189, 'KK000036', '1', 2017, 27, 0, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '07:48:00', '17:02:00', 0),
(95, 209, 'KK000037', '1', 2017, 23, 2, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '07:48:00', '17:04:00', 0),
(96, 210, 'KK000038', '1', 2017, 28, 2, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '07:40:00', '17:02:00', 0),
(97, 211, 'KK000039', '1', 2017, 27, 2, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '07:41:00', '17:01:00', 0),
(98, 212, 'KK000040', '1', 2017, 13, 1, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '07:34:00', '17:04:00', 0),
(99, 213, 'KK000041', '1', 2017, 27, 1, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '07:39:00', '17:02:00', 0),
(100, 214, 'KK000042', '1', 2017, 27, 1, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '07:37:00', '17:00:00', 0),
(101, 219, 'KK000043', '1', 2017, 27, 1, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '07:43:00', '17:05:00', 0),
(102, 221, 'KK000044', '1', 2017, 26, 1, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(103, 226, 'KK000045', '1', 2017, 24, 0, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '07:36:00', '17:06:00', 0),
(104, 227, 'KK000046', '1', 2017, 29, 1, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '07:29:00', '17:06:00', 0),
(105, 228, 'KK000047', '1', 2017, 27, 1, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '07:45:00', '17:00:00', 0),
(106, 254, 'KK000048', '1', 2017, 26, 2, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '07:58:00', '17:05:00', 0),
(107, 255, 'KK000049', '1', 2017, 27, 3, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '07:38:00', '17:06:00', 0),
(108, 282, 'KK000050', '1', 2017, 0, 0, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(109, 290, 'KK000051', '1', 2017, 0, 0, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(110, 295, 'KK000052', '1', 2017, 0, 0, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(111, 296, 'KK000053', '1', 2017, 0, 0, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(112, 297, 'KK000054', '1', 2017, 0, 0, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(113, 298, 'KK000055', '1', 2017, 0, 0, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(114, 307, 'KK000056', '1', 2017, 0, 0, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(115, 308, 'KK000057', '1', 2017, 0, 0, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(116, 309, 'KK000058', '1', 2017, 0, 0, '0000-00-00', '09:00:00', '08:00:00', '17:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(175, 2, 'KK000001', '2', 2017, 25, 7, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '08:00:00', '00:00:00', 0),
(176, 3, 'KK000002', '2', 2017, 25, 24, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(177, 4, 'KK000003', '2', 2017, 0, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(178, 6, 'KK000004', '2', 2017, 26, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:13:00', '16:00:00', 26),
(179, 7, 'KK000005', '2', 2017, 23, 8, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '08:08:00', '16:04:00', 0),
(180, 8, 'KK000006', '2', 2017, 26, 3, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:55:00', '00:00:00', 0),
(181, 10, 'KK000007', '2', 2017, 29, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:18:00', '16:00:00', 0),
(182, 16, 'KK000008', '2', 2017, 27, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:56:00', '16:02:00', 0),
(183, 17, 'KK000009', '2', 2017, 24, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:48:00', '16:01:00', 0),
(184, 18, 'KK000010', '2', 2017, 27, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:40:00', '16:03:00', 0),
(185, 21, 'KK000011', '2', 2017, 23, 6, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:44:00', '16:00:00', 0),
(186, 22, 'KK000012', '2', 2017, 31, 1, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:07:00', '16:04:00', 0),
(187, 36, 'KK000013', '2', 2017, 12, 4, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '08:04:00', '16:02:00', 0),
(188, 39, 'KK000014', '2', 2017, 24, 2, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:55:00', '16:02:00', 0),
(189, 40, 'KK000015', '2', 2017, 27, 2, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:51:00', '16:07:00', 0),
(190, 43, 'KK000016', '2', 2017, 26, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:38:00', '16:00:00', 0),
(191, 44, 'KK000017', '2', 2017, 28, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:49:00', '16:00:00', 0),
(192, 63, 'KK000018', '2', 2017, 29, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:27:00', '16:04:00', 0),
(193, 73, 'KK000019', '2', 2017, 28, 1, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:35:00', '15:43:00', 0),
(194, 77, 'KK000020', '2', 2017, 27, 3, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:58:00', '16:01:00', 0),
(195, 79, 'KK000021', '2', 2017, 22, 3, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:37:00', '16:02:00', 0),
(196, 80, 'KK000022', '2', 2017, 27, 3, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '08:07:00', '16:01:00', 0),
(197, 81, 'KK000023', '2', 2017, 21, 5, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:55:00', '16:00:00', 0),
(198, 83, 'KK000024', '2', 2017, 22, 17, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '08:00:00', '16:22:00', 0),
(199, 88, 'KK000025', '2', 2017, 21, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:28:00', '16:00:00', 0),
(200, 93, 'KK000026', '2', 2017, 24, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:50:00', '16:11:00', 0),
(201, 94, 'KK000027', '2', 2017, 19, 4, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:30:00', '16:01:00', 0),
(202, 98, 'KK000028', '2', 2017, 28, 1, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:47:00', '16:02:00', 0),
(203, 106, 'KK000029', '2', 2017, 23, 1, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:09:00', '16:00:00', 0),
(204, 116, 'KK000030', '2', 2017, 28, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:46:00', '16:01:00', 0),
(205, 131, 'KK000031', '2', 2017, 24, 2, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:50:00', '16:03:00', 0),
(206, 133, 'KK000032', '2', 2017, 26, 3, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:43:00', '16:00:00', 0),
(207, 138, 'KK000033', '2', 2017, 28, 6, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:57:00', '16:01:00', 0),
(208, 170, 'KK000034', '2', 2017, 26, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:53:00', '16:02:00', 0),
(209, 172, 'KK000035', '2', 2017, 27, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:44:00', '16:03:00', 0),
(210, 189, 'KK000036', '2', 2017, 28, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:55:00', '16:01:00', 0),
(211, 209, 'KK000037', '2', 2017, 28, 1, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:51:00', '16:02:00', 0),
(212, 210, 'KK000038', '2', 2017, 28, 1, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:50:00', '16:02:00', 0),
(213, 211, 'KK000039', '2', 2017, 28, 1, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:50:00', '16:03:00', 0),
(214, 212, 'KK000040', '2', 2017, 28, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:51:00', '16:02:00', 0),
(215, 213, 'KK000041', '2', 2017, 27, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:49:00', '16:01:00', 0),
(216, 214, 'KK000042', '2', 2017, 26, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:40:00', '16:01:00', 0),
(217, 219, 'KK000043', '2', 2017, 26, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:46:00', '16:03:00', 0),
(218, 221, 'KK000044', '2', 2017, 25, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:38:00', '16:03:00', 0),
(219, 226, 'KK000045', '2', 2017, 21, 1, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(220, 227, 'KK000046', '2', 2017, 29, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:43:00', '16:00:00', 0),
(221, 228, 'KK000047', '2', 2017, 29, 1, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:42:00', '16:02:00', 0),
(222, 254, 'KK000048', '2', 2017, 27, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '08:00:00', '16:03:00', 0),
(223, 255, 'KK000049', '2', 2017, 26, 6, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:48:00', '16:04:00', 0),
(224, 282, 'KK000050', '2', 2017, 0, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(225, 290, 'KK000051', '2', 2017, 0, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(226, 295, 'KK000052', '2', 2017, 0, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(227, 296, 'KK000053', '2', 2017, 0, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(228, 297, 'KK000054', '2', 2017, 0, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(229, 298, 'KK000055', '2', 2017, 0, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(230, 307, 'KK000056', '2', 2017, 0, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(231, 308, 'KK000057', '2', 2017, 0, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(232, 309, 'KK000058', '2', 2017, 0, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(233, 2, 'KK000001', '3', 2017, 21, 6, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(234, 3, 'KK000002', '3', 2017, 22, 18, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:56:00', '16:11:00', 0),
(235, 4, 'KK000003', '3', 2017, 0, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(236, 6, 'KK000004', '3', 2017, 25, 2, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:14:00', '16:03:00', 0),
(237, 7, 'KK000005', '3', 2017, 18, 6, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(238, 8, 'KK000006', '3', 2017, 22, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:51:00', '16:04:00', 0),
(239, 10, 'KK000007', '3', 2017, 21, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:32:00', '16:00:00', 0),
(240, 16, 'KK000008', '3', 2017, 24, 1, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:50:00', '16:05:00', 0),
(241, 17, 'KK000009', '3', 2017, 25, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(242, 18, 'KK000010', '3', 2017, 22, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:34:00', '16:01:00', 0),
(243, 21, 'KK000011', '3', 2017, 22, 2, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:51:00', '16:01:00', 0),
(244, 22, 'KK000012', '3', 2017, 28, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:12:00', '16:03:00', 28),
(245, 36, 'KK000013', '3', 2017, 11, 6, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '00:00:00', '16:03:00', 0),
(246, 39, 'KK000014', '3', 2017, 23, 2, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '08:27:00', '16:02:00', 0),
(247, 40, 'KK000015', '3', 2017, 26, 2, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:58:00', '16:03:00', 0),
(248, 43, 'KK000016', '3', 2017, 23, 1, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(249, 44, 'KK000017', '3', 2017, 19, 3, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(250, 63, 'KK000018', '3', 2017, 26, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:18:00', '16:37:00', 0),
(251, 73, 'KK000019', '3', 2017, 23, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:30:00', '16:00:00', 0),
(252, 77, 'KK000020', '3', 2017, 21, 1, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:56:00', '16:02:00', 0),
(253, 79, 'KK000021', '3', 2017, 22, 1, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:58:00', '16:08:00', 0),
(254, 80, 'KK000022', '3', 2017, 22, 2, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:47:00', '16:01:00', 0),
(255, 81, 'KK000023', '3', 2017, 19, 3, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(256, 83, 'KK000024', '3', 2017, 25, 8, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '08:12:00', '16:32:00', 0),
(257, 88, 'KK000025', '3', 2017, 20, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(258, 93, 'KK000026', '3', 2017, 24, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:55:00', '16:05:00', 0),
(259, 94, 'KK000027', '3', 2017, 21, 9, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:18:00', '16:05:00', 0),
(260, 98, 'KK000028', '3', 2017, 24, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:48:00', '16:00:00', 0),
(261, 106, 'KK000029', '3', 2017, 25, 1, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:17:00', '16:01:00', 0),
(262, 116, 'KK000030', '3', 2017, 26, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:53:00', '16:01:00', 0),
(263, 131, 'KK000031', '3', 2017, 26, 1, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:53:00', '16:05:00', 0),
(264, 133, 'KK000032', '3', 2017, 23, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(265, 138, 'KK000033', '3', 2017, 20, 3, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '08:00:00', '16:03:00', 0),
(266, 170, 'KK000034', '3', 2017, 23, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:56:00', '16:00:00', 0),
(267, 172, 'KK000035', '3', 2017, 23, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:47:00', '16:04:00', 0),
(268, 189, 'KK000036', '3', 2017, 23, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:50:00', '16:02:00', 0),
(269, 209, 'KK000037', '3', 2017, 26, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:47:00', '16:08:00', 0),
(270, 210, 'KK000038', '3', 2017, 26, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:32:00', '16:04:00', 0),
(271, 211, 'KK000039', '3', 2017, 20, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:32:00', '16:04:00', 0),
(272, 212, 'KK000040', '3', 2017, 26, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:53:00', '16:05:00', 0),
(273, 213, 'KK000041', '3', 2017, 21, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:49:00', '16:02:00', 0),
(274, 214, 'KK000042', '3', 2017, 22, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 22),
(275, 219, 'KK000043', '3', 2017, 24, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:49:00', '16:04:00', 0),
(276, 221, 'KK000044', '3', 2017, 20, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:53:00', '16:00:00', 0),
(277, 226, 'KK000045', '3', 2017, 23, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:41:00', '16:08:00', 0),
(278, 227, 'KK000046', '3', 2017, 27, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:25:00', '16:00:00', 0),
(279, 228, 'KK000047', '3', 2017, 25, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:48:00', '16:00:00', 0),
(280, 254, 'KK000048', '3', 2017, 24, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:56:00', '16:05:00', 0),
(281, 255, 'KK000049', '3', 2017, 25, 5, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '07:50:00', '16:03:00', 0),
(282, 282, 'KK000050', '3', 2017, 0, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(283, 290, 'KK000051', '3', 2017, 0, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(284, 295, 'KK000052', '3', 2017, 0, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(285, 296, 'KK000053', '3', 2017, 0, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(286, 297, 'KK000054', '3', 2017, 0, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(287, 298, 'KK000055', '3', 2017, 0, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(288, 307, 'KK000056', '3', 2017, 0, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(289, 308, 'KK000057', '3', 2017, 0, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0),
(290, 309, 'KK000058', '3', 2017, 0, 0, '0000-00-00', '08:00:00', '08:00:00', '16:00:00', 'BENGKEL+ ADM', '00:00:00', '00:00:00', 0);

-- --------------------------------------------------------

--
-- Table structure for table `tb_bonus`
--

CREATE TABLE `tb_bonus` (
  `kode_bonus` varchar(20) NOT NULL,
  `kode_karyawan` varchar(10) NOT NULL,
  `periode` varchar(30) NOT NULL,
  `tahun` int(11) NOT NULL,
  `pendapatan_bengkel` int(11) NOT NULL,
  `pendapatan_oli` int(11) NOT NULL,
  `jumlah_bonus` int(11) NOT NULL
) ENGINE=MyISAM DEFAULT CHARSET=latin1;

--
-- Dumping data for table `tb_bonus`
--

INSERT INTO `tb_bonus` (`kode_bonus`, `kode_karyawan`, `periode`, `tahun`, `pendapatan_bengkel`, `pendapatan_oli`, `jumlah_bonus`) VALUES
('KB000001', '', '1', 2018, 2000000, 4000000, 0),
('KB000002', '', '1', 2018, 89000000, 90000000, 0),
('KB000003', '', '2', 2017, 2000000, 20000, 0);

--
-- Triggers `tb_bonus`
--
DELIMITER $$
CREATE TRIGGER `kodeauto` BEFORE INSERT ON `tb_bonus` FOR EACH ROW BEGIN
DECLARE s VARCHAR(8);
DECLARE i INTEGER;
 
SET i = (SELECT SUBSTRING(kode_bonus,3,6) AS kode_bonus
FROM tb_bonus ORDER BY kode_bonus DESC LIMIT 1);
 
SET s = (SELECT KODEOTOMATIS(i));
 
IF(NEW.kode_bonus IS NULL OR NEW.kode_bonus = '')
 THEN SET NEW.kode_bonus = s;
END IF;
END
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `tb_gaji`
--

CREATE TABLE `tb_gaji` (
  `kode_gaji` int(20) NOT NULL,
  `kode_karyawan` varchar(20) NOT NULL,
  `kode_bonus` varchar(20) NOT NULL,
  `periode` varchar(20) NOT NULL,
  `tahun` year(4) NOT NULL,
  `tanggal` date NOT NULL,
  `gaji_pokok` int(10) NOT NULL,
  `presentase_bengkel` decimal(10,0) NOT NULL,
  `bonus_bengkel` int(10) NOT NULL,
  `presentase_oli` decimal(10,0) NOT NULL,
  `bonus_oli` int(10) NOT NULL,
  `bonus_full_absen` int(10) NOT NULL,
  `jumlah_bonus` int(10) NOT NULL,
  `potong_terlambat` int(10) NOT NULL,
  `thr` int(10) NOT NULL,
  `total_gaji` int(10) NOT NULL
) ENGINE=MyISAM DEFAULT CHARSET=latin1;

--
-- Dumping data for table `tb_gaji`
--

INSERT INTO `tb_gaji` (`kode_gaji`, `kode_karyawan`, `kode_bonus`, `periode`, `tahun`, `tanggal`, `gaji_pokok`, `presentase_bengkel`, `bonus_bengkel`, `presentase_oli`, `bonus_oli`, `bonus_full_absen`, `jumlah_bonus`, `potong_terlambat`, `thr`, `total_gaji`) VALUES
(2, 'KK000001', 'KB000001', '1', 2017, '2018-01-27', 2147483647, '0', 0, '0', 0, 0, 0, 126000, 0, 2147483647),
(3, 'KK000002', 'KB000001', '1', 2017, '2018-01-27', 20000000, '0', 0, '0', 0, 0, 0, 504000, 0, 19496000);

-- --------------------------------------------------------

--
-- Table structure for table `tb_karyawan`
--

CREATE TABLE `tb_karyawan` (
  `kode_karyawan` varchar(10) NOT NULL,
  `kode_absensi` varchar(200) DEFAULT NULL,
  `nama_karyawan` varchar(30) NOT NULL,
  `jenis_kelamin` varchar(10) NOT NULL,
  `tanggal_lahir` date NOT NULL,
  `alamat` varchar(40) NOT NULL,
  `tgl_mulai_kerja` date NOT NULL,
  `jabatan` varchar(20) NOT NULL,
  `no_telepon` varchar(12) NOT NULL,
  `no_rekening` varchar(20) NOT NULL
) ENGINE=MyISAM DEFAULT CHARSET=latin1;

--
-- Dumping data for table `tb_karyawan`
--

INSERT INTO `tb_karyawan` (`kode_karyawan`, `kode_absensi`, `nama_karyawan`, `jenis_kelamin`, `tanggal_lahir`, `alamat`, `tgl_mulai_kerja`, `jabatan`, `no_telepon`, `no_rekening`) VALUES
('KK000001', '2', 'WINATA Y', '', '0000-11-30', '', '0000-11-30', 'samsat', '', ''),
('KK000002', '3', 'AYU R.J.', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000003', '4', 'WYN ARTI', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000004', '6', 'SUDA MAD', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000005', '7', 'MULYANA', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000006', '8', 'SUKARATA', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000007', '10', 'SULASTRA', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000008', '16', 'IRNA PRA', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000009', '17', 'SUCIPTA', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000010', '18', 'MURIANA', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000011', '21', 'DODI MAD', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000012', '22', 'SATRA NE', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000013', '36', 'PUSPITA', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000014', '39', 'KM SUTRI', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000015', '40', 'ELLY', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000016', '43', 'SUWIJA', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000017', '44', 'RULLY', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000018', '63', 'WYN DIRI', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000019', '73', 'GD WIRA', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000020', '77', 'GST.A.AY', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000021', '79', 'WINNA', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000022', '80', 'PT DASA', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000023', '81', 'I KM KAR', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000024', '83', 'SUSILA D', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000025', '88', 'SUMENDRA', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000026', '93', 'AGUSTIAW', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000027', '94', 'KETUT SU', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000028', '98', 'SUCITA M', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000029', '106', 'KD HERI', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000030', '116', 'ANSORI', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000031', '131', 'BAGUS EF', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000032', '133', 'PT DWITA', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000033', '138', 'HARI PUR', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000034', '170', 'SISKA', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000035', '172', 'NURUL', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000036', '189', 'SEPTIARI', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000037', '209', 'BAYU P', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000038', '210', 'ABDUL', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000039', '211', 'DICKY', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000040', '212', 'JOKO', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000041', '213', 'MAYLANI', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000042', '214', 'IRA NADI', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000043', '219', 'D. MANIK', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000044', '221', 'STELLA', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000045', '226', 'WAWANY A', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000046', '227', 'BAMBANG', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000047', '228', 'AGUS M', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000048', '254', 'DIAN S', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000049', '255', 'YAYAN', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000050', '282', 'AGUS ADI', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000051', '290', 'FIKI L', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000052', '295', 'G.A. TRI', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000053', '296', 'MD SRI A', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000054', '297', 'PUTU AYU', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000055', '298', 'KD MERTA', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000056', '307', 'ELVIRA', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000057', '308', 'YULI A.', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', ''),
('KK000058', '309', 'IA WISMA', '', '0000-00-00', '', '0000-00-00', 'BENGKEL+ ADM', '', '');

--
-- Triggers `tb_karyawan`
--
DELIMITER $$
CREATE TRIGGER `KODEOTOMATIS` BEFORE INSERT ON `tb_karyawan` FOR EACH ROW BEGIN
DECLARE s VARCHAR(8);
DECLARE i INTEGER;
 
SET i = (SELECT SUBSTRING(kode_karyawan,3,6) AS kode_karyawan
FROM tb_karyawan ORDER BY kode_karyawan DESC LIMIT 1);
 
SET s = (SELECT KODESTAFF(i));
 
IF(NEW.kode_karyawan IS NULL OR NEW.kode_karyawan = '')
 THEN SET NEW.kode_karyawan = s;
END IF;
END
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `tb_user`
--

CREATE TABLE `tb_user` (
  `kode_user` int(20) NOT NULL,
  `kode_karyawan` varchar(20) NOT NULL,
  `nama_user` varchar(40) NOT NULL,
  `username` varchar(20) NOT NULL,
  `password` varchar(20) NOT NULL,
  `level` varchar(20) NOT NULL
) ENGINE=MyISAM DEFAULT CHARSET=latin1;

--
-- Dumping data for table `tb_user`
--

INSERT INTO `tb_user` (`kode_user`, `kode_karyawan`, `nama_user`, `username`, `password`, `level`) VALUES
(2, '4', 'purnami', 'purnami', '123', 'karyawan'),
(1, 'KK-001', 'haripur', 'hari', '123', 'admin'),
(3, 'KK-001', 'TIAM', 'nova', '123', 'pemilik'),
(34, 'KK000002', 'novayadi', 'novayadi', '123456', 'karyawan');

--
-- Indexes for dumped tables
--

--
-- Indexes for table `tb_absensi`
--
ALTER TABLE `tb_absensi`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `tb_bonus`
--
ALTER TABLE `tb_bonus`
  ADD PRIMARY KEY (`kode_bonus`);

--
-- Indexes for table `tb_gaji`
--
ALTER TABLE `tb_gaji`
  ADD PRIMARY KEY (`kode_gaji`),
  ADD UNIQUE KEY `kode_gaji` (`kode_gaji`),
  ADD UNIQUE KEY `kode_gaji_2` (`kode_gaji`);

--
-- Indexes for table `tb_karyawan`
--
ALTER TABLE `tb_karyawan`
  ADD PRIMARY KEY (`kode_karyawan`);

--
-- Indexes for table `tb_user`
--
ALTER TABLE `tb_user`
  ADD PRIMARY KEY (`kode_user`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `tb_absensi`
--
ALTER TABLE `tb_absensi`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=291;
--
-- AUTO_INCREMENT for table `tb_gaji`
--
ALTER TABLE `tb_gaji`
  MODIFY `kode_gaji` int(20) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;
--
-- AUTO_INCREMENT for table `tb_user`
--
ALTER TABLE `tb_user`
  MODIFY `kode_user` int(20) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=35;COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
